# simple_tools

## export_plist.py: excel 转成 plist 
```sh
./export_plist.py test.xlsx # 默认输出同名文件.plist
./export_plist.py test.xlsx output.plist # 指定输出文件
```
*依赖 openpyxl*: https://openpyxl.readthedocs.io/en/default/
pip install openpyxl

*pip*: https://pip.readthedocs.io/en/stable/installing/

## xlsb2xlsx.js: xlsb 转 xlsx

## make_protocols.js: 自动分配协议id, 生成不同语言使用的映射表
可以生成 go, typescript, lua, c# 对应的协议映射文件
```sh
node make_protocols.js server.proto server.pb.init.go server.pb.init.ts server.pb.init.lua server.pb.init.cs --export=SProtocols --cache=server.protocols.json
```


generated file like this:
```go
package protos // auto generated by node, do not modify it manually!
import "github.com/ialex32x/sgless/network"

var SProtocols = network.NewProtocols(1347281348, 65536)

func init() {
    SProtocols.Register(1, (*SNodeInfo)(nil))
    SProtocols.Register(2, (*SWorldStateNtf)(nil))
    SProtocols.Register(3, (*SNodeOnlineReq)(nil))
    SProtocols.Register(4, (*SNodeOnlineRsp)(nil))
    SProtocols.Register(5, (*SNodeOnlineNtf)(nil))
    ...
}
```

## build.js: 用于在编译前产生一些必要的自定义信息, 每次 build 自动 +1
```sh
node build.js --json ./res/build.json --image sgless --go ./src/github.com/ialex32x/sgworld/base/version.go
```
